<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>symbol</title>

  <style>

svg {
  display: block;
  background-color: #eee;
  margin: 200px;
  overflow: visible;
}

  </style>

  <script src="./path-data-polyfill/path-data-polyfill.js"></script>
  <script>

window.addEventListener('load', () => {
  pathDataPolyfill(window);

  document.getElementById('btn').addEventListener('click', () => {

    var offsetRect = document.getElementById('offset-rect'),
      path1 = document.getElementById('path1'),
      path2 = document.getElementById('path2'),
      offsetX = offsetRect.width.baseVal.value,
      offsetY = offsetRect.height.baseVal.value;

    function pathOffset(pathData) {
      var newPathData = [];

      function roundValue(value) {
        console.log(Math.round(value * 100) / 100);
        return Math.round(value * 100) / 100;
      }

      pathData.forEach(pathSeg => {
        if (/[MLCS]/.test(pathSeg.type)) {
          newPathData.push({
            type: pathSeg.type,
            values: pathSeg.values.map((value, i) => {
              return roundValue(value - (i % 2 === 0 ? offsetX : offsetY));
            })
          });
        } else if (/[HV]/.test(pathSeg.type)) {
          newPathData.push({
            type: pathSeg.type,
            values: pathSeg.values.map(value => {
              return roundValue(value - (pathSeg.type === 'H' ? offsetX : offsetY));
            })
          });
        } else if (/[mlhvcszZ]/.test(pathSeg.type)) {
          newPathData.push({
            type: pathSeg.type,
            values: pathSeg.values.map(value => {
              return roundValue(value);
            })
          });
        } else {
          throw new Error('Unknown type: ' + pathSeg.type);
        }
      });
      return newPathData;
    }

    path1.setPathData(pathOffset(path1.getPathData()));
    path2.setPathData(pathOffset(path2.getPathData()));

  }, false);

}, false);

  </script>

</head>
<body>

  <svg version="1.1" viewBox="0 0 39.65 24" width="396.5px" height="240px">

    <path id="path1" fill="#FCFCFC"
      d="M12.19,23.14h4.75c1.38,0,2.49-1.11,2.49-2.49c0-0.51-0.15-0.98-0.41-1.37h1.3c1.38,0,2.49-1.11,2.49-2.49s-1.11-2.53-2.49-2.53h1.02c1.38,0,2.49-1.11,2.49-2.49s-1.11-2.49-2.49-2.49h14.96c1.37,0,2.49-1.11,2.49-2.49s-1.11-2.49-2.49-2.49H19.58C19,2.14,17.28,0.86,12.7,0.86c-4.79,0-6.55,3.42-7.87,4.73H0.86v13.23h3.68C6.29,21.97,8.47,23.14,12.19,23.14L12.19,23.14z"/>

    <path id="path2" d="M16.95,24c1.85,0,3.35-1.5,3.35-3.35c0-0.17-0.02-0.34-0.04-0.51h0.07c1.85,0,3.35-1.5,3.35-3.35c0-0.79-0.27-1.51-0.72-2.08c1.03-0.57,1.74-1.67,1.74-2.93c0-0.59-0.16-1.15-0.43-1.63h12.04c1.85,0,3.35-1.5,3.35-3.35c0-1.85-1.5-3.35-3.35-3.35H20.2C19.26,1.07,16.91,0,12.7,0C8.36,0,6.22,2.6,4.94,4.16c0,0-0.29,0.33-0.5,0.57c-0.63,0-3.58,0-3.58,0C0.39,4.73,0,5.12,0,5.59v13.23c0,0.47,0.39,0.86,0.86,0.86c0,0,2.48,0,3.2,0C5.9,22.73,8.29,24,12.19,24L16.95,24z M12.19,22.28c-3.46,0-5.33-1.05-6.9-3.87c-0.15-0.27-0.44-0.44-0.75-0.44c0,0-1.81,0-2.82,0V6.45c1.06,0,3.11,0,3.11,0c0.25,0,0.44-0.06,0.61-0.25l0.83-0.95c1.23-1.49,2.91-3.53,6.43-3.53c3.45,0,4.9,0.74,5.57,1.72h-4.3c-0.48,0-0.86,0.38-0.86,0.86s0.39,0.86,0.86,0.86h22.34c0.9,0,1.63,0.73,1.63,1.63c0,0.9-0.73,1.63-1.63,1.63H18.83c-0.48,0-0.86,0.38-0.86,0.86c0,0.47,0.39,0.86,0.86,0.86h2.52c0.9,0,1.63,0.73,1.63,1.63s-0.73,1.63-1.63,1.63h-3.12c-0.48,0-0.86,0.38-0.86,0.86c0,0.47,0.39,0.86,0.86,0.86h2.11c0.88,0,1.63,0.76,1.63,1.67c0,0.9-0.73,1.63-1.63,1.63h-3.2c-0.48,0-0.86,0.39-0.86,0.86c0,0.47,0.39,0.86,0.86,0.86h1.36c0.05,0.16,0.09,0.34,0.09,0.51c0,0.9-0.73,1.63-1.63,1.63C16.95,22.28,12.19,22.28,12.19,22.28z"/>

    <rect id="offset-rect" x="0" y="0" width="3" height="12" fill="rgba(255, 0, 0, 0.5)" />

  </svg>

  <button id="btn">offset</button>

</body>
</html>
